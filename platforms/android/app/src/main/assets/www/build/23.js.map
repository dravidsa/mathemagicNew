{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"23.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\nimport { NavController, AlertController, LoadingController, Loading, IonicPage } from 'ionic-angular';\nimport { AuthService } from '../../providers/auth-service/auth-service';\nimport { CoursesService } from '../../providers/courses-service/courses-service';\nimport { Network } from '@ionic-native/network';\n \n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n  loading: Loading;\n  //registerCredentials = { username: 'sandra', password: 'sandeep123' };\n  registerCredentials = { username: '', password: '' };\n \n  constructor(private nav: NavController, private auth: AuthService, public network : Network   , private courses : CoursesService , private alertCtrl: AlertController, private loadingCtrl: LoadingController) {\n\n    if (localStorage.getItem(\"loggedUser\") != null  ) {\n   \n      console.log( \" already logged in as \" + localStorage.getItem(\"loggedUser\")) ; \n      this.courses.getCoursesForUser( localStorage.getItem(\"loggedUser\")).subscribe( data => { \n        console.log( \"got this data for courses for user logged in  \" + JSON.stringify( data )) ; \n        this.nav.setRoot('MenuPage');\n        });\n\n     // this.nav.setRoot('MenuPage');\n\n    }\n    else console.log( \" not logged in \") ; \n\n   }\n\n\n  public createAccount() {\n    this.nav.push('RegisterPage');\n  }\n \n  public login() {\n\n    if ( this.network.type == 'none')  { \n\n      alert(\"Not connected to internet, some features may not work \") ; \n      return; \n\n     }\n\n    console.log( \"got credentials \" + JSON.stringify( this.registerCredentials)) ; \n\n    this.showLoading()\n    this.auth.login(this.registerCredentials).subscribe(loginMessage => {\n      console.log ( \"allowed is  \" + loginMessage ) ; \n     // next: value => console.log(\"next vvalue\" + value  ) ; \n      \n      //console.log ( \" back here allowed is\" + allowed )\n      if (loginMessage == \"Login successful\") {        \n        \n        console.log( \"set logged in user as \" + localStorage.getItem(\"loggedUser\")) ; \n\n        //console.log( \" calling courses\") ; \n      \n     \n      this.courses.getCoursesForUser(this.registerCredentials.username).subscribe( data => { \n      console.log( \"got this data  \" + JSON.stringify( data )) ; \n      this.nav.setRoot('MenuPage');\n      });\n  \n  \n\n        this.nav.setRoot('TabsHomePage');\n\n        \n      } else {\n        console.log( \"failed \") ; \n        this.showError(\"Access Denied\");\n      }\n    },\n      error => {\n        this.showError(error);\n      });\n  }\n \n  showLoading() {\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...',\n      dismissOnPageChange: true\n    });\n    this.loading.present();\n  }\n \n  showError(text) {\n    this.loading.dismiss();\n \n    let alert = this.alertCtrl.create({\n      title: 'Invalid userid or Password. ',\n      subTitle: text,\n      buttons: ['OK']\n    });\n    alert.present(alert);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}