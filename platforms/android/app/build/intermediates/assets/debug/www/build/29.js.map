{"version":3,"sources":["../../src/pages/buy-product/buy-product.module.ts","../../src/pages/buy-product/buy-product.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BuyProductPage } from './buy-product';\n\n@NgModule({\n  declarations: [\n    BuyProductPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BuyProductPage),\n  ],\n})\nexport class BuyProductPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/buy-product/buy-product.module.ts","import { SaveOrderService } from './../../providers/save-order/save-order';\nimport { AuthService } from './../../providers/auth-service/auth-service';\nimport { GetSchoolsService } from './../../providers/get-schools/get-schools';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport {Md5} from 'ts-md5/dist/md5';\nimport { GetBillingService } from '../../providers/get-billing/get-billing';\nimport { cordovaWarn } from '../../../node_modules/@ionic-native/core';\n\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { USE_DEFAULT_LANG } from '../../../node_modules/@ngx-translate/core';\n\n\n\n/**\n * Generated class for the BuyProductPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-buy-product',\n  templateUrl: 'buy-product.html',\n})\nexport class BuyProductPage {\n\n  productId : any  ; \n  productName : any ; \n\n  productPrice : any ; \n  public schoolName =\"\"; \n  public schoolCode = 0 ; \n  refgetSchoolsService : GetSchoolsService ; \n\n  studentName =\"\" ; \n  standard = \"\"; \n  billingName =\"\"; \n \n  billingAddress ='' ; \n  billingCity =\"\" \n  billingPincode =\"\"; \n  billingState = 428 \n  billingPhone : any ; \n  errorMessage : any ; \n\n  shippingCharges = 125 ; \n  totalCharges = this.productPrice  ; \n  outOfMHCharges = 0 ; \n\n  email : any ; \n  userid : any; \n  username : any ; \n  billingData : any ; \n  img_src : any ; \n\n\n\n  schoolMatched  = false; \n \n  orderData : any ; \n  orderNo = \"\"  ; \n\n\n  states = [ \n\t\t    {\n      id: \"AP\",\n      state:\"Andhra Pradesh\"\n    },\n    {\n      id: \"AR\",\n      state:\"Arunachal Pradesh\"\n    },\n    {\n      id: \"AS\",\n      state:\"Assam\"\n    },\n    {\n      id: \"BR\",\n      state:\"Bihar\"\n    },\n    {\n      id: \"CG\",\n      state:\"Chattisgarh\"\n    },\n    {\n      id: \"DN\",\n      state:\"Dadra Nagar and Haveli\"\n    },\n    {\n      id: \"GA\",\n      state:\"GOA\"\n    },\n    {\n      id: \"GJ\",\n      state:\"Gujrat\"\n    },\n    {\tid: \"HR\",\n      state:\"Haryana\"\n    },\n    {   id: \"HP\",\n      state:\"Himachal Pradesh\"\n    },\n    {   id: \"JK\",\n      state:\"Jammu and Kashmir\"\n    },\n    { \tid: \"JH\",\n      state:\"Jharkhand\"\n    },\n    {   id: \"KA\",\n      state:\"Karnataka\"\n    },\n    {\n      id: \"KL\",\n      state:\"Kerala\"\n    },\n    {\tid: \"MP\",\n      state:\"Madhya Pradesh\"\n    },\n    {   id: \"MN\",\n      state:\"Manipur\"\n    },\n    {   id: \"ML\",\n      state:\"Meghalaya\"\n    },\n    {   id: \"MZ\",\n      state:\"Mizoram\"\n    },\n    {   id: \"NL\",\n      state:\"Nagaland\"\n    },\n    {   id: \"OR\",\n      state:\"ORISSA\"\n    },\n    {   id: \"PB\",\n      state:\"Punjab\"\n    },\n    {\n      id: \"PY\",\n      state:\"Pondecherry\"\n    },\n    {   id: \"RJ\",\n      state:\"Rajashtan\"\n    },\n    {   id: \"SK\",\n      state:\"Sikkim\"\n    },\n    {   id: \"TN\",\n      state:\"Tamilnadu\"\n    },\n    {   id: \"TR\",\n      state:\"Tripura\"\n    },\n    {   id: \"UP\",\n      state:\"Uttar Pradesh\"\n    },\n    {   id: \"WB\",\n      state:\"West Bengal\"\n    } \n    \n    ] ; \n  constructor(public navCtrl: NavController, public navParams: NavParams,public getSchoolsService : GetSchoolsService, authService : AuthService ,public saveOrder : SaveOrderService , public getBilling : GetBillingService , public iab : InAppBrowser ) {\n\n    this.productId =  navParams.get(\"productId\");\n    this.productName =  navParams.get(\"productName\");\n    this.productPrice =  navParams.get(\"productPrice\");\n    this.totalCharges = this.productPrice  ; \n    this.img_src = navParams.get(\"img_src\") ; \n\n    this.refgetSchoolsService = getSchoolsService   ; \n        console.log ( \" in constructor\" + this.productPrice ) ; \n    \n    if ( localStorage.getItem(\"loggedUser\") == null ) { \n\n    this.email = authService.currentUser.email  ; \n    this.userid = authService.currentUser.id ; \n    this.username = authService.currentUser.name ; \n    }\n    else \n    {\n      console.log( \"getting from localstorage\") ; \n\n      this.username = localStorage.getItem(\"loggedUser\") ; \n      this.userid = localStorage.getItem(\"loggedUserId\") ; \n      this.email = localStorage.getItem(\"loggedUserEmail\") ; \n    }\n    console.log( \"current user name lis \" + this.username); \n     getBilling.getBillingAddress( this.username ).subscribe( data => { \n      console.log( \"got  this  billing  data   \" + JSON.stringify( data )) ; \n      if ( data != \"no data\") {\n        this.billingData = getBilling.billingData  ; \n        console.log( \"billing data is \" + JSON.stringify(this.billingData)); \n        \n        this.billingName = this.billingData[0].name;  \n        this.billingAddress = this.billingData[0].address ; \n        this.billingCity = this.billingData[0].city ; \n        this.billingPincode = this.billingData[0].pinCode; \n        this.billingState = this.billingData[0].stateId; \n        this.billingPhone = this.billingData[0].phone ; \n        \n      }\n      else {\n        this.errorMessage = \"Error in Saving   Order \" ;\n        return ; \n      }\n\n     });\n\n    \n  }\n\n  public showSchools( schoolName) {\n\n    console.log( \" Showing schools with name \" + this.schoolName ) ; \n    /*\n    this.getSchoolsService.getSchools(this.schoolName).subscribe( data => { \n      console.log( \"got this data \" + JSON.stringify( data )) ; \n    \n    }); \n    */\n   this.navCtrl.push('SchoolListPage', { schoolName : this.schoolName} );\n\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad BuyProductPage'); \n\n  }\n  ionViewWillEnter( ) {\n    console.log('ionViewDidLoad BuyProductPage'); \n\n    if ( (this.productName == 'IPM Book Set ') &&  ( this.productName == 'Online Test') ) { \n    if ( this.refgetSchoolsService != undefined ) {\n    this.schoolName  = this.refgetSchoolsService.selectedSchoolName ;\n    if ( this.schoolName == undefined ) { \n\n      this.errorMessage = \"Did not  find your school Name , cant continue \" ; \n      this.schoolMatched = false ; \n      return ; \n\n    } \n    \n    this.schoolMatched = true;\n    this.schoolCode = this.refgetSchoolsService.selectedSchoolId ; \n    this.errorMessage = \"\" ; \n    console.log ( \"lets see  if we enter this  \"+ this.schoolName + \"code is \" + this.schoolCode) ; \n    \n    } \n    //console.log ( \"coming for the 1st time \");\n  } \n  else { console.log( \"no need of school name \") ; }\n  }\n\n  public goForPayment() { \n  //this.errorMessage = this.standard+'-'+this.billingAddress+'-'+this.billingCity+'-'+ this.billingPincode+'-'+this.billingName+'-' ; \n    if ( this.standard == '' ||  this.billingName ==''   || this.billingAddress =='' ||  this.billingCity == '' || this.billingPincode == '' || this.billingPhone =='' ) { \n      this.errorMessage = \"All Fields are mandatory  \" ;  \n      return; \n    }\n\n      if ( ( this.productName == 'Supreme') || ( this.productName == 'IPM 2019 Exam Enrollment') || ( this.productName == 'Elearning'))\n      { \n          if (( this.studentName =='' ) || ( this.standard == '' ) || ( this.schoolName =='')) { \n           \n          this.errorMessage = \"All student  details are mandatory for this product\" ; \n          return ; \n\n      }  else {    \n           if ( this.schoolMatched == false ) { \n\n            this.errorMessage = \"Your school name was not found , cant continue \" ;\n            return; \n\n        }\n  }\n}\n    this.orderData  = { prodname : this.productName , userid : this.userid , student_name : this.studentName , email: this.email, standard : this.standard  , medium : \"English\" , gender : \"F\" , birthDate : \"01-01-2000\" , school_code  : this.schoolCode , amount : this.totalCharges , \n                        billingname : this.billingName , address : this.billingAddress , city : this.billingCity,phone: this.billingPhone, pincode : this.billingPincode, state : 428  } \n                        console.log( \" sending  thid data for save  \" + JSON.stringify( this.orderData)) ; \n\n                         this.saveOrder.process(this.orderData).subscribe( data => { \n                          console.log( \"got this data   \" + JSON.stringify( data )) ; \n                          if ( data != \"failed\") {\n                            this.orderNo = data;  \n                            console.log( \"order no generated is --\" + this.orderNo) ; \n                            if  ( this.orderNo == null ) {\n                              this.errorMessage = \"Error in Saving Order Information \" ; \n                              return ; \n                            }\n                            this.showEBS() ; \n                          }\n                          else {\n                            this.errorMessage = \"Error in Saving Order \" ;\n                            return ; \n                          }\n\n                         });\n    } \n\n\npublic showEBS()  { \n  var winName =\"_self\"; \n  var key =\"e918f92d41508857288b020b3c70dfac\";\n\tvar account_id = 10532 ; \n\tvar mode = \"LIVE\" ; \n\tvar return_url =    'http://ipm-mathemagic.com/api/ebs/response_app.php?DR={DR}'  ; \n\tconsole.log( \" order no is \" + this.orderNo ) ; \n\tconsole.log( \" amount is \" + this.totalCharges  ) ; \n\t//orderData.amount=100; \n\t//order_no = 123456 ; \n  var ref : any ; \n \n  var URL = \"http://ipm-mathemagic.com/new/payment.html?amount=\"+ this.totalCharges+\"&order_no=\" + this.orderNo + \"&name=\"+this.billingName+\"&address=\"+this.billingAddress+\"&city=\" +this.billingCity+\"&postal_code=\"+this.billingPincode +\"&email=\"+this.email +\"&phone=\"+this.billingPhone ; \n\n  console.log( \"opening URL  \" + URL ) ; \n  \n  ref =  window.open(URL , '_blank ', \"location=no\");\n \n // const ref = this.iab.create(URL, '_blank', 'location=no') ; \n   \n  \n\n\n\n  ref.addEventListener('loadstart', function() {  alert ( 'in loadstart')  }) ;\n  //if (ref) { \n  \n  ref.addEventListener('loadstop', function() { \n  ref.executeScript(\n       { code: \"document.body.innerHTML\" },\n       function( values ) {\n         //  alert( values[ 0 ] );\n     var responseText = values[0] ; \n     alert ( \"exitting with>\" + responseText+\"<\" ) ; \n     if ( responseText.includes(\"Thanks for your order . Your order is confirmed\")) { \n     //alert ( responseText ) ;\n     alert( \" Thank You for your order. Your order is confirmed.\") ; \n     ref.close()\t\t  ;\n\n     // $state.go('tab.orders') ; \n     \n     }\n   else if ( responseText.includes(\"Your order  could not be processed\") ) { \n     \n        alert( \"Eror in processing your order . Your order has failed.\") ; \n        ref.close(); \n        // $state.go('tab.home') ; \n     }\n    \n\n     \n       }\n\n\n\n  )\n  });\n\n  ref.addEventListener('loadloaderror', function() {  alert ( 'Got some Error '); ;  });\n  ref.addEventListener('exit', function() {   });\n\n\n\n\n  \n\n/*\n\t\n\tvar order_no = 123456 ; \n\tconsole.log( \"key:\" + key  + \"account \" + account_id +  \"amount \"+ 105 + \"order no\" + order_no + \" return \" + return_url + \"mode \" + mode );\n\tvar hash_str =  key + \"|\" +  account_id + \"|\" + 105 + \"|\" + order_no + \"|\" + return_url + \"|\" + mode  ;\n\tvar secured_hash = Md5.hashStr(hash_str) ; \n\tconsole.log ( \"hash str is -\" + hash_str + \"- hash is -\" + secured_hash +\"-\") ; \n\t\n\t\n    var params = {\n\t\t'account_id' :  account_id  ,  \n\t\t'reference_no' : order_no ,  \n\t\t'amount'  : 105 ,  \n\t\t'mode' :  mode ,  \n        'currency'  : 'INR' ,  \n\t\n        'description' : 'For Ipm' , \n        'return_url' :  return_url , \n        'name' : this.billingName  , \n\t\t'address' : this.billingAddress  , \n\t\t'city' :  this.billingCity  , \n\t\t'country' : 'Ind' ,\n\t\t'postal_code' :  this.billingPincode  , \n\t\t'email' :  'dravidsa@hotmail.com' , \n\t\t'secure_hash' : secured_hash   , \n\t    'phone' : 9922955408 , \n\t\t\n\t\t'channel' : '0' \n\t\t\n    };\n\t\n\tconsole.log ( \"params are \" + JSON.stringify(params)  ) ; \n\t\n    var form = document.createElement(\"form\");\n    form.setAttribute(\"method\", \"post\");\n    form.setAttribute(\"action\", 'https://secure.ebs.in/pg/ma/payment/request');\n    form.setAttribute(\"target\", winName);\n    for (var i in params) {\n        if (params.hasOwnProperty(i)) {\n            var input = document.createElement('input');\n            input.type = 'hidden';\n            input.name = i;\n            input.value = params[i];\n            form.appendChild(input);\n        }\n     }\n    document.body.appendChild(form);\n    // window.open('', winName,windowoption);\n    form.target = winName;\n    console.log(form.action);\n\tconsole.log( \"going for submit \") ; \n\t\n\tconsole.log ( \"going for socket \") ; \n\t\n\n\n \n     form.submit();\n\tconsole.log ( \"form submitted\"); \n*/\n\n\n}\n\n  public calcShipping(){\n   console.log ( \"in change event \") ; \n   if ( this.productName != 'IPM Book Set') { \n\n    this.shippingCharges =  0 ;\n    if  (this.billingState != 428 )  { \n      this.outOfMHCharges = 200 ; \n    } \n    else { \n      this.outOfMHCharges = 0 ; \n    }\n\n    } \n    else { \n\n    if  (this.billingState != 428  )  { \n      this.shippingCharges = 175; \n     // this.outOfMHCharges = 200 ; \n      } \n    else       \n      this.shippingCharges = 125; \n    } \n      this.totalCharges = Number.parseInt(this.productPrice) + this.shippingCharges  + this.outOfMHCharges  ; \n\n  }\n\nngOnInit() { \n\n  console.log ( \" in ngOninit \") ; \n\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/buy-product/buy-product.ts"],"sourceRoot":""}