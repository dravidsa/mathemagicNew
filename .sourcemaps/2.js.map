{"version":3,"sources":["../../src/pages/login/login.module.ts","../../node_modules/@ionic-native/app-version/ngx/index.js","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\nimport { AppVersion } from '@ionic-native/app-version/ngx';\n\n\n@NgModule({\n  declarations: [\n    LoginPage,\n    AppVersion \n\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Injectable } from '@angular/core';\nimport { IonicNativePlugin, cordova } from '@ionic-native/core';\nvar AppVersion = /** @class */ (function (_super) {\n    __extends(AppVersion, _super);\n    function AppVersion() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AppVersion.prototype.getAppName = function () { return cordova(this, \"getAppName\", {}, arguments); };\n    AppVersion.prototype.getPackageName = function () { return cordova(this, \"getPackageName\", {}, arguments); };\n    AppVersion.prototype.getVersionCode = function () { return cordova(this, \"getVersionCode\", {}, arguments); };\n    AppVersion.prototype.getVersionNumber = function () { return cordova(this, \"getVersionNumber\", {}, arguments); };\n    AppVersion.pluginName = \"AppVersion\";\n    AppVersion.plugin = \"cordova-plugin-app-version\";\n    AppVersion.pluginRef = \"cordova.getAppVersion\";\n    AppVersion.repo = \"https://github.com/whiteoctober/cordova-plugin-app-version\";\n    AppVersion.platforms = [\"Android\", \"iOS\", \"Windows\"];\n    AppVersion = __decorate([\n        Injectable()\n    ], AppVersion);\n    return AppVersion;\n}(IonicNativePlugin));\nexport { AppVersion };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2FwcC12ZXJzaW9uL25neC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLDhCQUFzQyxNQUFNLG9CQUFvQixDQUFDOztJQWtDeEMsOEJBQWlCOzs7O0lBTy9DLCtCQUFVO0lBT1YsbUNBQWM7SUFTZCxtQ0FBYztJQU9kLHFDQUFnQjs7Ozs7O0lBOUJMLFVBQVU7UUFEdEIsVUFBVSxFQUFFO09BQ0EsVUFBVTtxQkFuQ3ZCO0VBbUNnQyxpQkFBaUI7U0FBcEMsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvcmRvdmEsIElvbmljTmF0aXZlUGx1Z2luLCBQbHVnaW4gfSBmcm9tICdAaW9uaWMtbmF0aXZlL2NvcmUnO1xuXG5cbi8qKlxuICogQG5hbWUgQXBwIFZlcnNpb25cbiAqIEBkZXNjcmlwdGlvblxuICogUmVhZHMgdGhlIHZlcnNpb24gb2YgeW91ciBhcHAgZnJvbSB0aGUgdGFyZ2V0IGJ1aWxkIHNldHRpbmdzLlxuICpcbiAqIFJlcXVpcmVzIENvcmRvdmEgcGx1Z2luOiBgY29yZG92YS1wbHVnaW4tYXBwLXZlcnNpb25gLiBGb3IgbW9yZSBpbmZvLCBwbGVhc2Ugc2VlIHRoZSBbQ29yZG92YSBBcHAgVmVyc2lvbiBkb2NzXShodHRwczovL2dpdGh1Yi5jb20vd2hpdGVvY3RvYmVyL2NvcmRvdmEtcGx1Z2luLWFwcC12ZXJzaW9uKS5cbiAqXG4gKiBAdXNhZ2VcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IEFwcFZlcnNpb24gfSBmcm9tICdAaW9uaWMtbmF0aXZlL2FwcC12ZXJzaW9uL25neCc7XG4gKlxuICogY29uc3RydWN0b3IocHJpdmF0ZSBhcHBWZXJzaW9uOiBBcHBWZXJzaW9uKSB7IH1cbiAqXG4gKiAuLi5cbiAqXG4gKlxuICogdGhpcy5hcHBWZXJzaW9uLmdldEFwcE5hbWUoKTtcbiAqIHRoaXMuYXBwVmVyc2lvbi5nZXRQYWNrYWdlTmFtZSgpO1xuICogdGhpcy5hcHBWZXJzaW9uLmdldFZlcnNpb25Db2RlKCk7XG4gKiB0aGlzLmFwcFZlcnNpb24uZ2V0VmVyc2lvbk51bWJlcigpO1xuICpcbiAqIGBgYFxuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ0FwcFZlcnNpb24nLFxuICBwbHVnaW46ICdjb3Jkb3ZhLXBsdWdpbi1hcHAtdmVyc2lvbicsXG4gIHBsdWdpblJlZjogJ2NvcmRvdmEuZ2V0QXBwVmVyc2lvbicsXG4gIHJlcG86ICdodHRwczovL2dpdGh1Yi5jb20vd2hpdGVvY3RvYmVyL2NvcmRvdmEtcGx1Z2luLWFwcC12ZXJzaW9uJyxcbiAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnaU9TJywgJ1dpbmRvd3MnXVxufSlcbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBBcHBWZXJzaW9uIGV4dGVuZHMgSW9uaWNOYXRpdmVQbHVnaW4ge1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSBhcHAsIGUuZy46IFwiTXkgQXdlc29tZSBBcHBcIlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXRBcHBOYW1lKCk6IFByb21pc2U8c3RyaW5nPiB7IHJldHVybjsgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwYWNrYWdlIG5hbWUgb2YgdGhlIGFwcCwgZS5nLjogXCJjb20uZXhhbXBsZS5teWF3ZXNvbWVhcHBcIlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXRQYWNrYWdlTmFtZSgpOiBQcm9taXNlPHN0cmluZz4geyByZXR1cm47IH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYnVpbGQgaWRlbnRpZmllciBvZiB0aGUgYXBwLlxuICAgKiBJbiBpT1MgYSBzdHJpbmcgd2l0aCB0aGUgYnVpbGQgdmVyc2lvbiBsaWtlIFwiMS42MDk1XCJcbiAgICogSW4gQW5kcm9pZCBhIG51bWJlciBnZW5lcmF0ZWQgZnJvbSB0aGUgdmVyc2lvbiBzdHJpbmcsIGxpa2UgMTAyMDMgZm9yIHZlcnNpb24gXCIxLjIuM1wiXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZyB8IG51bWJlcj59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGdldFZlcnNpb25Db2RlKCk6IFByb21pc2U8c3RyaW5nIHwgbnVtYmVyPiB7IHJldHVybjsgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB2ZXJzaW9uIG9mIHRoZSBhcHAsIGUuZy46IFwiMS4yLjNcIlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXRWZXJzaW9uTnVtYmVyKCk6IFByb21pc2U8c3RyaW5nPiB7IHJldHVybjsgfVxuXG59XG4iXX0=\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@ionic-native/app-version/ngx/index.js\n// module id = 371\n// module chunks = 2","import { Component } from '@angular/core';\nimport { NavController, AlertController, LoadingController, Loading, IonicPage } from 'ionic-angular';\nimport { AuthService } from '../../providers/auth-service/auth-service';\nimport { CoursesService } from '../../providers/courses-service/courses-service';\nimport { Network } from '@ionic-native/network';\nimport { AppVersion } from '@ionic-native/app-version/ngx';\n\n \nimport { MenuController } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n  loading: Loading;\n  appVersionCode : any  ; \n \n\n  //registerCredentials = { username: 'sandra', password: 'sandeep123' };\n  registerCredentials = { username: '', password: '' };\n \n\n  constructor(private nav: NavController, private auth: AuthService, public network : Network   , menu : MenuController , public appVersion : AppVersion ,  private courses : CoursesService , private alertCtrl: AlertController, private loadingCtrl: LoadingController) {\n\n    this.appVersion.getVersionCode().then(value => {\n      this.appVersionCode = value;\n      console.log ( \"app version Code is \" + this.appVersionCode); \n    }).catch(err => {\n       console.log(\"Error in getting app version code \" + err);\n    });\n\n    \n    menu.enable(false, 'leftMenu');\n\n    if (localStorage.getItem(\"loggedUser\") != null  ) {\n   \n      this.showLoading() ; \n      \n      console.log( \" already logged in as \" + localStorage.getItem(\"loggedUser\")) ; \n      this.courses.getCoursesForUser( localStorage.getItem(\"loggedUser\")).subscribe( data => { \n        console.log( \"got this data for courses for user logged in  \" + JSON.stringify( data )) ;\n\n        this.nav.setRoot('MenuPage');\n        });\n\n     // this.nav.setRoot('MenuPage');\n\n    }\n    else console.log( \" not logged in \") ; \n   }\n  public createAccount() {\n    this.nav.push('RegisterPage');\n  }\n\n  public login() {\n    if ( this.network.type == 'none')  { \n      alert(\"Not connected to internet, some features may not work \") ; \n      return; \n     }\n    console.log( \"got credentials \" + JSON.stringify( this.registerCredentials)) ; \n    this.showLoading()\n    this.auth.login(this.registerCredentials).subscribe(loginMessage => {\n      console.log ( \"allowed is  \" + loginMessage ) ; \n     // next: value => console.log(\"next vvalue\" + value  ) ; \n  \n      //console.log ( \" back here allowed is\" + allowed )\n      if (loginMessage == \"Login successful\") {        \n        console.log( \"set logged in user as \" + localStorage.getItem(\"loggedUser\")) ; \n        //console.log( \" calling courses\") ; \n      this.courses.getCoursesForUser(this.registerCredentials.username).subscribe( data => { \n      console.log( \"got this data  \" + JSON.stringify( data )) ; \n      this.nav.setRoot('MenuPage');\n      });\n      this.nav.setRoot('TabsHomePage');\n      } else {\n        console.log( \"failed \") ; \n        this.showError(\"Access Denied\");\n      }\n    },\n      error => {\n        this.showError(error);\n      });\n  }\n \n  showLoading() {\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...',\n      dismissOnPageChange: true\n    });\n    this.loading.present();\n  }\n \n  showError(text) {\n    this.loading.dismiss();\n \n    let alert = this.alertCtrl.create({\n      title: 'Invalid userid or Password. ',\n      subTitle: text,\n      buttons: ['OK']\n    });\n    alert.present(alert);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}