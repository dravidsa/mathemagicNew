{"version":3,"sources":["../../src/pages/buy-product/buy-product.module.ts","../../src/pages/buy-product/buy-product.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BuyProductPage } from './buy-product';\n\n@NgModule({\n  declarations: [\n    BuyProductPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BuyProductPage),\n  ],\n})\nexport class BuyProductPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/buy-product/buy-product.module.ts","import { GetSchoolsService } from './../../providers/get-schools/get-schools';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport {Md5} from 'ts-md5/dist/md5';\n\n\n/**\n * Generated class for the BuyProductPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-buy-product',\n  templateUrl: 'buy-product.html',\n})\nexport class BuyProductPage {\n\n  productId : any  ; \n  productName : any ; \n\n  productPrice : any ; \n  public schoolName : any; \n  refgetSchoolsService : GetSchoolsService ; \n\n  studentName =\"\" ; \n  standard = \"\"; \n  billingName =\"\"; \n \n  billingAddress ='' ; \n  billingCity =\"\" \n  billingPincode =\"\"; \n  billingState = \"MH\"; \n  \n  errorMessage : any ; \n\n  shippingCharges = 125 ; \n  totalCharges = this.productPrice  ; \n  outOfMHCharges = 0 ; \n\n\n\n  states = [ \n\t\t    {\n      id: \"AP\",\n      state:\"Andhra Pradesh\"\n    },\n    {\n      id: \"AR\",\n      state:\"Arunachal Pradesh\"\n    },\n    {\n      id: \"AS\",\n      state:\"Assam\"\n    },\n    {\n      id: \"BR\",\n      state:\"Bihar\"\n    },\n    {\n      id: \"CG\",\n      state:\"Chattisgarh\"\n    },\n    {\n      id: \"DN\",\n      state:\"Dadra Nagar and Haveli\"\n    },\n    {\n      id: \"GA\",\n      state:\"GOA\"\n    },\n    {\n      id: \"GJ\",\n      state:\"Gujrat\"\n    },\n    {\tid: \"HR\",\n      state:\"Haryana\"\n    },\n    {   id: \"HP\",\n      state:\"Himachal Pradesh\"\n    },\n    {   id: \"JK\",\n      state:\"Jammu and Kashmir\"\n    },\n    { \tid: \"JH\",\n      state:\"Jharkhand\"\n    },\n    {   id: \"KA\",\n      state:\"Karnataka\"\n    },\n    {\n      id: \"KL\",\n      state:\"Kerala\"\n    },\n    {\tid: \"MP\",\n      state:\"Madhya Pradesh\"\n    },\n    {   id: \"MN\",\n      state:\"Manipur\"\n    },\n    {   id: \"ML\",\n      state:\"Meghalaya\"\n    },\n    {   id: \"MZ\",\n      state:\"Mizoram\"\n    },\n    {   id: \"NL\",\n      state:\"Nagaland\"\n    },\n    {   id: \"OR\",\n      state:\"ORISSA\"\n    },\n    {   id: \"PB\",\n      state:\"Punjab\"\n    },\n    {\n      id: \"PY\",\n      state:\"Pondecherry\"\n    },\n    {   id: \"RJ\",\n      state:\"Rajashtan\"\n    },\n    {   id: \"SK\",\n      state:\"Sikkim\"\n    },\n    {   id: \"TN\",\n      state:\"Tamilnadu\"\n    },\n    {   id: \"TR\",\n      state:\"Tripura\"\n    },\n    {   id: \"UP\",\n      state:\"Uttar Pradesh\"\n    },\n    {   id: \"WB\",\n      state:\"West Bengal\"\n    } \n    \n    ] ; \n  constructor(public navCtrl: NavController, public navParams: NavParams,public getSchoolsService : GetSchoolsService) {\n\n    this.productId =  navParams.get(\"productId\");\n    this.productName =  navParams.get(\"productName\");\n    this.productPrice =  navParams.get(\"productPrice\");\n    this.totalCharges = this.productPrice  ; \n\n    this.refgetSchoolsService = getSchoolsService   ; \n        console.log ( \" in constructor\" + this.productPrice ) ; \n\n\n  }\n\n  public showSchools( schoolName) {\n\n    console.log( \" Showing schools with name \" + this.schoolName ) ; \n    /*\n    this.getSchoolsService.getSchools(this.schoolName).subscribe( data => { \n      console.log( \"got this data \" + JSON.stringify( data )) ; \n    \n    }); \n    */\n   this.navCtrl.push('SchoolListPage', { schoolName : this.schoolName} );\n\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad BuyProductPage'); \n\n  }\n  ionViewWillEnter( ) {\n    console.log('ionViewDidLoad BuyProductPage'); \n    if ( this.refgetSchoolsService != undefined ) {\n    this.schoolName  = this.refgetSchoolsService.selectedSchoolName ; \n    console.log ( \"lets see if we enter this  \"+ this.schoolName) ; \n    } \n    console.log ( \"coming for the 1st time \");\n  }\n\n  public goForPayment() { \n  //this.errorMessage = this.standard+'-'+this.billingAddress+'-'+this.billingCity+'-'+ this.billingPincode+'-'+this.billingName+'-' ; \n    if ( this.standard =='' || this.billingName ==''   || this.billingAddress =='' ||  this.billingCity == '' || this.billingPincode == '' )\n    \n    this.errorMessage = \"All Fields are mandatory \" ; \n    this.showEBS() ; \n\n\n  }\n\n\npublic showEBS()  { \n  var winName =\"_self\"; \n  var key =\"e918f92d41508857288b020b3c70dfac\";\n\tvar account_id = 10532 ; \n\tvar mode = \"LIVE\" ; \n\tvar return_url =    'http://ipm-mathemagic.com/api/ebs/response_app.php?DR={DR}'  ; \n\tconsole.log( \" order no is \" ) ; \n\tconsole.log( \" amount is \"  ) ; \n\t//orderData.amount=100; \n\t//order_no = 123456 ; \n  var ref : any ; \n\n  \n  ref =  window.open(\"./payment.html?amount=\"+ 100 +\"&order_no=\" + 123445 + \"&name=\"+name+\"&address=\"+this.billingAddress+\"&city=\" +this.billingCity+\"&postal_code=\"+this.billingPincode +\"&email=\"+'dravidsa@hotmail.com' +\"&phone=\"+9922955408, '_blank', 'location=no');\n  //ref.addEventListener('loadstart', function() {  /*alert ( 'in loadstart') */ }) ;\n  ref.addEventListener('loadstop', function() { \n\n  ref.executeScript(\n       { code: \"document.body.innerHTML\" },\n       function( values ) {\n         //  alert( values[ 0 ] );\n     var responseText = values[0] ; \n     //alert ( \"exitting with>\" + responseText+\"<\" ) ; \n     if ( responseText.includes(\"Thanks for your order . Your order is confirmed\")) { \n     //alert ( responseText ) ;\n     alert( \" Thank You for your order. Your order is confirmed.\") ; \n     ref.close()\t\t  ;\n\n     // $state.go('tab.orders') ; \n     \n     }\n   else if ( responseText.includes(\"Your order could not be processed\") ) { \n     \n        alert( \"Eror in processing your order . Your order has failed.\") ; \n        ref.close(); \n        // $state.go('tab.home') ; \n     }\n     \n     \n       }\n\n\n\n  )\n  });\n  ref.addEventListener('loadloaderror', function() {  alert ( 'Got some Error '); ;  });\n  ref.addEventListener('exit', function() {   });\n\n  \n  \n\n/*\n\t\n\tvar order_no = 123456 ; \n\tconsole.log( \"key:\" + key  + \"account \" + account_id +  \"amount \"+ 105 + \"order no\" + order_no + \" return \" + return_url + \"mode \" + mode );\n\tvar hash_str =  key + \"|\" +  account_id + \"|\" + 105 + \"|\" + order_no + \"|\" + return_url + \"|\" + mode  ;\n\tvar secured_hash = Md5.hashStr(hash_str) ; \n\tconsole.log ( \"hash str is -\" + hash_str + \"- hash is -\" + secured_hash +\"-\") ; \n\t\n\t\n    var params = {\n\t\t'account_id' :  account_id  ,  \n\t\t'reference_no' : order_no ,  \n\t\t'amount'  : 105 ,  \n\t\t'mode' :  mode ,  \n        'currency'  : 'INR' ,  \n\t\n        'description' : 'For Ipm' , \n        'return_url' :  return_url , \n        'name' : this.billingName  , \n\t\t'address' : this.billingAddress  , \n\t\t'city' :  this.billingCity  , \n\t\t'country' : 'Ind' ,\n\t\t'postal_code' :  this.billingPincode  , \n\t\t'email' :  'dravidsa@hotmail.com' , \n\t\t'secure_hash' : secured_hash   , \n\t    'phone' : 9922955408 , \n\t\t\n\t\t'channel' : '0' \n\t\t\n    };\n\t\n\tconsole.log ( \"params are \" + JSON.stringify(params)  ) ; \n\t\n    var form = document.createElement(\"form\");\n    form.setAttribute(\"method\", \"post\");\n    form.setAttribute(\"action\", 'https://secure.ebs.in/pg/ma/payment/request');\n    form.setAttribute(\"target\", winName);\n    for (var i in params) {\n        if (params.hasOwnProperty(i)) {\n            var input = document.createElement('input');\n            input.type = 'hidden';\n            input.name = i;\n            input.value = params[i];\n            form.appendChild(input);\n        }\n     }\n    document.body.appendChild(form);\n    // window.open('', winName,windowoption);\n    form.target = winName;\n    console.log(form.action);\n\tconsole.log( \"going for submit \") ; \n\t\n\tconsole.log ( \"going for socket \") ; \n\t\n\n\n \n     form.submit();\n\tconsole.log ( \"form submitted\"); \n*/\n\n\n}\n\n  public calcShipping(){\n   console.log ( \"in change event \") ; \n   if ( this.productName != 'IPM Book Set') { \n\n    this.shippingCharges =  0 ;\n    if  (this.billingState != 'MH' )  { \n      this.outOfMHCharges = 200 ; \n    } \n    else { \n      this.outOfMHCharges = 0 ; \n    }\n\n    } \n    else { \n\n    if  (this.billingState != 'MH' )  { \n      this.shippingCharges = 175; \n     // this.outOfMHCharges = 200 ; \n      } \n    else       \n      this.shippingCharges = 125; \n    } \n      this.totalCharges = Number.parseInt(this.productPrice) + this.shippingCharges  + this.outOfMHCharges  ; \n\n  }\n\nngOnInit() { \n\n  console.log ( \" in ngOninit \") ; \n\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/buy-product/buy-product.ts"],"sourceRoot":""}