<!--
  Generated template for the ShowQuizPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar color="blue">
      <ion-title>
        Solve Test :  {{testName}}
      </ion-title>
      <ion-buttons end>
        <button ion-button (click)="logout()">
          <ion-icon name="log-out"></ion-icon>
        </button>
      </ion-buttons>
    </ion-navbar>
  </ion-header>


    
 
<ion-content class="showquiz-content" padding >
    <font size= 6> 
    <ion-list *ngIf="questions">
       
           
         <B>Question No : {{ questions[currentQuestionNo].question_no}}</B>   <div *ngIf="questions[currentQuestionNo].userSelection!=questions[currentQuestionNo].correct && caller =='results'" ion-text color="danger"  > <ion-icon name="close"></ion-icon></div>  <div *ngIf="questions[currentQuestionNo].userSelection==questions[currentQuestionNo].correct && caller =='results' " ion-text color="secondary" ><ion-icon name="checkbox-outline"></ion-icon></div>
          <BR/> 

          <span [innerHTML]=" questions[currentQuestionNo].text | sanitizeHtml "></span>
          <ion-list radio-group [(ngModel)]="questions[currentQuestionNo].userSelection">
           
            
              <ion-item>
                <ion-label><span [innerHTML]=" questions[currentQuestionNo].ans1 | sanitizeHtml "></span></ion-label>
                <ion-radio checked="false"  name="options"  value="1"></ion-radio>
              </ion-item>
              <ion-item>
                  <ion-label><span [innerHTML]="questions[currentQuestionNo].ans2 | sanitizeHtml "></span></ion-label>
                  <ion-radio checked="false"   name="options"  value="2"></ion-radio>
                </ion-item>
                <ion-item>
                    <ion-label><span [innerHTML]="questions[currentQuestionNo].ans3 | sanitizeHtml "></span></ion-label>
                    <ion-radio checked="false"  name="options"   value="3"></ion-radio>
                  </ion-item>
                <ion-item>
                <ion-label><span [innerHTML]=" questions[currentQuestionNo].ans4 | sanitizeHtml "></span></ion-label>
                      <ion-radio checked="false"  name="options"   value="4"></ion-radio>
                </ion-item>
          </ion-list>

          <div *ngIf="caller=='results'">
          <div *ngIf="questions[currentQuestionNo].userSelection==questions[currentQuestionNo].correct" ion-text color="secondary" >Correct </div>
          <div *ngIf="questions[currentQuestionNo].userSelection!=questions[currentQuestionNo].correct" ion-text color="danger"  >Incorrect, correct Answer is {{questions[currentQuestionNo].correct}} </div> 
          </div>
          <table>
            <tr><td align="left"> 
          <button  [disabled]="currentQuestionNo == 0" ion-button color="Secondary" round (click)="prevQuestion()" >Prev</button></td>          
          <td align="center" *ngIf="!questions[currentQuestionNo].isFlagged" ><button  ion-button color="danger" round (click)="flagQuestion()" (check)="questions[currentQuestionNo].isFlagged=true" >Flag</button></td>
          <td align="center"  *ngIf="questions[currentQuestionNo].isFlagged" ><button  ion-button color="royal" round (click)="flagQuestion()" (check)="questions[currentQuestionNo].isFlagged=false" >UnFlag</button></td>
          <td align="right" ><button  [disabled]="currentQuestionNo ==39" ion-button color="Secondary" round (click)="nextQuestion()" >Next</button></td>
           </tr>

            </table>

        <div *ngIf="questions[currentQuestionNo].isFlagged" text-center > This question is Flagged </div> <BR/> 

      </ion-list>
 <button  *ngIf="caller!='results'" ion-button full=true color="danger" round (click)="showConfirmAlert()"  >Submit Test</button>
    </font>  
</ion-content>
